
set(CMAKE_SYSTEM_NAME Linux)
set(CMAKE_SYSTEM_PROCESSOR z80)

set(CMAKE_C_COMPILER_WORKS TRUE)

set(CMAKE_TRY_COMPILE_TARGET_TYPE STATIC_LIBRARY)

set(CMAKE_C_COMPILER "zcc")
set(CMAKE_C_FLAGS "+zxn -clib=sdcc_iy -startup=31 --opt-code-size" CACHE INTERNAL "")
set(CMAKE_C_FLAGS_DEBUG "" CACHE INTERNAL "")
set(CMAKE_C_FLAGS_RELEASE "" CACHE INTERNAL "")
set(CMAKE_C_FLAGS_RELWITHDEBINFO "" CACHE INTERNAL "")
set(CMAKE_C_FLAGS_MINSIZEREL "" CACHE INTERNAL "")
set(CMAKE_C_COMPILE_OBJECT "<CMAKE_C_COMPILER> <FLAGS> <DEFINES> <INCLUDES> -o <OBJECT> -c <SOURCE>")

set(CMAKE_AR "z80asm")
set(CMAKE_C_ARCHIVE_CREATE "<CMAKE_AR> -x<TARGET> <OBJECTS>")

set(CMAKE_RANLIB "")

set(CMAKE_EXE_LINKER_FLAGS "-m -create-app -subtype=nex")
set(CMAKE_C_LINK_EXECUTABLE "<CMAKE_C_COMPILER> <FLAGS> <CMAKE_C_LINK_FLAGS> <LINK_FLAGS> <OBJECTS> -o <TARGET> -lEngine")

set(CMAKE_ASM_COMPILER "zcc")
set(CMAKE_ASM_FLAGS "${CMAKE_C_FLAGS}")
set(CMAKE_ASM_COMPILE_OBJECT "<CMAKE_ASM_COMPILER> <FLAGS> -o <OBJECT> -c <SOURCE>")

set(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
set(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
set(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
